{
	"threshold": {
		"rule_name": "phase_imbalance@__name__",
		"rule_desc": "Phase Imbalance",
		"target": ["voltage.input.L1-N@__name__", "voltage.input.L2-N@__name__", "voltage.input.L3-N@__name__"],
		"element": "__name__",
		"values_unit": "%",
		"values": [{
			"high_critical": "3"
		}, {
			"high_warning": "2.27"
		}],
		"results": [{
			"high_critical": {
				"action": ["EMAIL"],
				"description": "high critical description"
			}
		}, {
			"high_warning": {
				"action": ["EMAIL"],
				"description": "high WARNING description"
			}
		}],
		"evaluation": "function main(voltage_L1, voltage_L2, voltage_L3) local avg = (voltage_L1 + voltage_L2 + voltage_L3)/3; local diff_avg_L1, diff_avg_L2, diff_avg_L3 = math.abs(avg - voltage_L1 ), math.abs(avg - voltage_L2 ), math.abs(avg - voltage_L3 ); local max_diff = math.max(diff_avg_L1, diff_avg_L2, diff_avg_L3); local imbalance = 100.0*max_diff/avg;if ( high_critical < imbalance ) then return HIGH_CRITICAL end; if ( high_warning < imbalance ) then return HIGH_WARNING  end; return OK; end"
	}
}
