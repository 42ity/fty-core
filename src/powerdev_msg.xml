<!-- see https://github.com/zeromq/zproto/blob/master/src/zproto_example.xml -->
<class
    name = "powerdev_msg"
    signature = "2"
    title = "power device message"
    script = "zproto_codec_c_v1"
    package_dir = "."
    include = "czmq.h"
    >

<include filename = "license.xml" />

<define name = "VERSION" value = "1.0" />

<!--
  Real devices data examples:
  {
  "output.current":5,
  "output.voltage":229,
  "ups.load":29,
  "device.mfr":"Eaton", 
  "device.model":"9135", 
  "device.serial":"CF071A5050",
  "device.type":"ups",
  "ups.serial":"CF071A5050",
  "ups.status":"OL"
  }
  {
  "output.current":0,
  "output.voltage":0,
  "ups.load":0,
  "ups.temperature":24.20,
  "battery.date":"10/16/2013",
  "device.mfr":"APC",
  "device.model":"Smart-UPS 1000",
  "device.serial":"AS1342112697",
  "device.type":"ups",
  "ups.serial":"AS1342112697",
  "ups.status":"OFF"
  }

-->

<message name = "powerdev_status" id = "201">
    Actual device status. Values, that allows UPS identification, are specified individually, rest is a dictionary
    <field name = "deviceID"             type = "string">Device ID - nut name</field>
    <field name = "model"                type = "string">Device model</field>
    <field name = "manufacturer"         type = "string">Device manufacturer</field>
    <field name = "serial"               type = "string">Serial number</field>
    <field name = "type"                 type = "string">Device type (UPS/ePDU/...)</field>
    <field name = "status"               type = "string">UPS status</field>
    <field name = "otherProperties"      type = "hash">Other device properties</field>

<!-- otherProperties 
    Those properties are _not_ supported by all devices, so they are stored in
    dictionary rather than have very long message with lot of empty values.

    <field name = "output.voltage"       type = "string">Output voltage (1phase device)</field>
    <field name = "output.current"       type = "string">Output current (1phase device)</field>
    <field name = "output.L1-N.voltage"  type = "string">Output voltage (3phase device, 1. phase)</field>
    <field name = "output.L1.current"    type = "string">Output current (3phase device, 1. phase)</field>
    <field name = "output.L2-N.voltage"  type = "string">Output voltage (3phase device, 2. phase)</field>
    <field name = "output.L2.current"    type = "string">Output current (3phase device, 2. phase)</field>
    <field name = "output.L3-N.voltage"  type = "string">Output voltage (3phase device, 3. phase)</field>
    <field name = "output.L3.current"    type = "string">Output current (3phase device, 3. phase)</field>
    <field name = "load"                 type = "string">UPS load</field>
    <field name = "device.description"   type = "string">The pink UPS</field>
    <field name = "device.contact"       type = "string">usualy email</field>
    <field name = "device.location"      type = "string">room 321</field>
    <field name = "device.part"          type = "string">partnumber</field>
    <field name = "ups.alarm"            type = "string">alarms (see status)</field>
    <field name = "ups.serial"           type = "string">the same as serial</field>
    <field name = "battery.date"         type = "string">Date, battery was mounted in</field>
    <field name = "battery.type"         type = "string">PbHg</field>
    <field name = "ups.temperature"      type = "string">34</field>
    <field name = "ups.realpower"        type = "string">75.32</field>
    <field name = "output.L1.realpower"  type = "string">75.32</field>
    <field name = "output.L2.realpower"  type = "string">75.32</field>
    <field name = "output.L3.realpower"  type = "string">75.32</field>
    <field name = "batery.charge"        type = "string">70</field>
    <field name = "outlet.realpower"     type = "string">43.56</field>
-->
</message>

</class>
